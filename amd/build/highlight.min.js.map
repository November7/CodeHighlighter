{"version":3,"file":"highlight.min.js","sources":["../src/highlight.js"],"sourcesContent":["define(['jquery'], function($) {\n    return {\n        init: function() {\n            // window.console.log(\"highlight init 3.0\");\n            $.fn.parseCodeSplit = function(regexp,type) {\n                let splitHtml = $(this).html().split(/(<span.*?\\/span>)/gi);\n                for(let i=0;i<splitHtml.length;i+=2)\n                {\n                    splitHtml[i] = splitHtml[i].replace(regexp,'<span class=\"'+type+'\">$1</span>');\n                }\n                return splitHtml.join(\"\");\n            };\n            $.fn.parseCode = function(regexp,type) {\n\n                return $(this).html().replace(regexp,'<span class=\"'+type+'\">$1</span>');\n            };\n            $.fn.matchCode = function(regexp) {\n                let splitHtml = $(this).html().split(/(<span.*?\\/span>)/gi);\n                for(let i=0;i<splitHtml.length;i+=2)\n                {\n                    if(splitHtml[i].match(regexp)) {return true;}\n                }\n                return false;\n            };\n            $(\".chParser_JS\").each(function() {\n                /// do przerobienia\n                // window.console.log(this.className);\n                let re = RegExp(\"chLang_([a-zA-Z]+)\",\"gm\");\n                let strippedLangName;\n                strippedLangName = re.exec(this.className);\n                // window.console.log(\"Lang \"+strippedLangName[1]);\n                let langname = strippedLangName[1];\n                if($.inArray(langname, ['cpp','python','cmd','php']) < 0) {return;}\n                ////////////////////////////\n                let pres = $(this).find(\"td:eq(1) pre\" );\n                require(['filter_codehighlighter/'+langname], function(lang_data) {\n                    if(lang_data == undefined) {return;}\n                    let artx = [];\n                    lang_data.text.forEach(function(el) {\n                        artx.push(\"\\\\\"+el+\".*?\"+\"\\\\\"+el);\n                    });\n                    let regtx = new RegExp(\"(\"+artx.join('|')+\")\",\"g\");\n                    let regky = [];\n                    for(let k in lang_data.keywords) {\n                        if (lang_data.keywords.hasOwnProperty(k)) {\n                            regky.push(new RegExp(\"\\\\b(\"+\n                            lang_data.keywords[k].join(\"|\")+\n                            \")\\\\b\",lang_data.casesensitive[k]?\"g\":\"gi\"));\n                        }\n                    }\n                    // window.console.log(regky);\n                    let regcm = [];\n                    lang_data.comment.forEach(function(el) {\n                        regcm.push(el+\".*\");\n                    });\n                    for(let i=0;i<lang_data.multicomment.length;i+=2) {\n                        regcm.push(lang_data.multicomment[i]+\".*?\"+lang_data.multicomment[i+1]);\n                    }\n                    pres.each(function() {\n                        $(this).html($(this).parseCodeSplit(regtx,'text'));\n                    });\n                    for(let i=0;i<lang_data.multicomment.length;i+=2) {\n                        let cs = 0;\n                        let mc_b = lang_data.multicomment[i];\n                        let mc_e = lang_data.multicomment[i+1];\n                        pres.each(function() {\n                            if(cs) {\n                                $(this).html($(this).parseCode(new RegExp(\"(^.*?($|\"+mc_e+\"))\",\"g\"),'multicomment'));\n                                if($(this).html().match(new RegExp(\"(\"+mc_e+\")\"),\"g\")) {\n                                    cs = 0;\n                                }\n                            }\n                            else {\n                                $(this).html($(this).parseCode(new RegExp(\"(\"+regcm.join(\"|\")+\")\"),'comment'));\n                            }\n                            let rmc_b = new RegExp(\"(\"+mc_b + \"((?!\"+mc_e + \").)*$)\",\"g\");\n                            if($(this).matchCode(rmc_b)) {\n                                $(this).html($(this).parseCode(rmc_b,'multicomment'));\n                                cs = 1;\n                            }\n                        });\n                    }\n                    pres.each(function() {\n                        for(let i=0;i<regky.length;++i) {\n                            $(this).html($(this).parseCodeSplit(regky[i],'keyword'+(i+1)));\n                        }\n                        $(this).html($(this).parseCodeSplit(new RegExp(\"\\\\b(\"+lang_data.number+\")\\\\b\",\"g\"),'dec-number'));\n                    });\n                });\n            });\n        }\n    };\n});"],"names":["define","$","init","fn","parseCodeSplit","regexp","type","splitHtml","this","html","split","i","length","replace","join","parseCode","matchCode","match","each","strippedLangName","RegExp","exec","className","langname","inArray","pres","find","require","lang_data","undefined","artx","text","forEach","el","push","regtx","regky","k","keywords","hasOwnProperty","casesensitive","regcm","comment","multicomment","cs","mc_b","mc_e","rmc_b","number"],"mappings":"AAAAA,0CAAO,CAAC,WAAW,SAASC,SACjB,CACHC,KAAM,WAEFD,EAAEE,GAAGC,eAAiB,SAASC,OAAOC,UAC9BC,UAAYN,EAAEO,MAAMC,OAAOC,MAAM,2BACjC,IAAIC,EAAE,EAAEA,EAAEJ,UAAUK,OAAOD,GAAG,EAE9BJ,UAAUI,GAAKJ,UAAUI,GAAGE,QAAQR,OAAO,gBAAgBC,KAAK,sBAE7DC,UAAUO,KAAK,KAE1Bb,EAAEE,GAAGY,UAAY,SAASV,OAAOC,aAEtBL,EAAEO,MAAMC,OAAOI,QAAQR,OAAO,gBAAgBC,KAAK,gBAE9DL,EAAEE,GAAGa,UAAY,SAASX,YAClBE,UAAYN,EAAEO,MAAMC,OAAOC,MAAM,2BACjC,IAAIC,EAAE,EAAEA,EAAEJ,UAAUK,OAAOD,GAAG,KAE3BJ,UAAUI,GAAGM,MAAMZ,eAAiB,SAEpC,GAEXJ,EAAE,gBAAgBiB,MAAK,eAIfC,iBACJA,iBAFSC,OAAO,qBAAqB,MAEfC,KAAKb,KAAKc,eAE5BC,SAAWJ,iBAAiB,MAC7BlB,EAAEuB,QAAQD,SAAU,CAAC,MAAM,SAAS,MAAM,QAAU,aAEnDE,KAAOxB,EAAEO,MAAMkB,KAAK,gBACxBC,QAAQ,CAAC,0BAA0BJ,WAAW,SAASK,cACnCC,MAAbD,qBACCE,KAAO,GACXF,UAAUG,KAAKC,SAAQ,SAASC,IAC5BH,KAAKI,KAAK,KAAKD,GAAL,QAAmBA,WAE7BE,MAAQ,IAAIf,OAAO,IAAIU,KAAKhB,KAAK,KAAK,IAAI,KAC1CsB,MAAQ,OACR,IAAIC,KAAKT,UAAUU,SACfV,UAAUU,SAASC,eAAeF,IAClCD,MAAMF,KAAK,IAAId,OAAO,OACtBQ,UAAUU,SAASD,GAAGvB,KAAK,KAC3B,OAAOc,UAAUY,cAAcH,GAAG,IAAI,WAI1CI,MAAQ,GACZb,UAAUc,QAAQV,SAAQ,SAASC,IAC/BQ,MAAMP,KAAKD,GAAG,aAEd,IAAItB,EAAE,EAAEA,EAAEiB,UAAUe,aAAa/B,OAAOD,GAAG,EAC3C8B,MAAMP,KAAKN,UAAUe,aAAahC,GAAG,MAAMiB,UAAUe,aAAahC,EAAE,IAExEc,KAAKP,MAAK,WACNjB,EAAEO,MAAMC,KAAKR,EAAEO,MAAMJ,eAAe+B,MAAM,gBAE1C,IAAIxB,EAAE,EAAEA,EAAEiB,UAAUe,aAAa/B,OAAOD,GAAG,EAAG,KAC1CiC,GAAK,EACLC,KAAOjB,UAAUe,aAAahC,GAC9BmC,KAAOlB,UAAUe,aAAahC,EAAE,GACpCc,KAAKP,MAAK,WACH0B,IACC3C,EAAEO,MAAMC,KAAKR,EAAEO,MAAMO,UAAU,IAAIK,OAAO,WAAW0B,KAAK,KAAK,KAAK,iBACjE7C,EAAEO,MAAMC,OAAOQ,MAAM,IAAIG,OAAO,IAAI0B,KAAK,KAAK,OAC7CF,GAAK,IAIT3C,EAAEO,MAAMC,KAAKR,EAAEO,MAAMO,UAAU,IAAIK,OAAO,IAAIqB,MAAM3B,KAAK,KAAK,KAAK,gBAEnEiC,MAAQ,IAAI3B,OAAO,IAAIyB,KAAO,OAAOC,KAAO,SAAS,KACtD7C,EAAEO,MAAMQ,UAAU+B,SACjB9C,EAAEO,MAAMC,KAAKR,EAAEO,MAAMO,UAAUgC,MAAM,iBACrCH,GAAK,MAIjBnB,KAAKP,MAAK,eACF,IAAIP,EAAE,EAAEA,EAAEyB,MAAMxB,SAASD,EACzBV,EAAEO,MAAMC,KAAKR,EAAEO,MAAMJ,eAAegC,MAAMzB,GAAG,WAAWA,EAAE,KAE9DV,EAAEO,MAAMC,KAAKR,EAAEO,MAAMJ,eAAe,IAAIgB,OAAO,OAAOQ,UAAUoB,OAAO,OAAO,KAAK"}